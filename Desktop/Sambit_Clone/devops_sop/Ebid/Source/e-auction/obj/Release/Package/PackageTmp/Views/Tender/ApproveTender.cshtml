@model e_auction.Models.Tender

@{
    ViewBag.Title = "ApproveTender";
    Layout = "~/Views/Shared/Master.cshtml";
}



@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
       
        @Html.ValidationSummary(true)

    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <div class="container-fluid">
        <input type="hidden" value="@Request.QueryString["tenderid"]" name="tenderid" id="tenderid" />
        <div class="row-fluid">
            <div class="span12">
                <div class="box">
                    <div class="box-title">
                        <h3>
                            
                             Auction Detail
                        </h3>
                    </div>
                    <div class="box-content nopadding">
                        <table class="table table-hover table-nomargin table-colored-header">
                            <thead>
                                <tr>
                                    <th>Tender ID</th>
                                    <th>Description</th>
                                    <th>Raised by</th>
                                    <th>Company</th>
                                    <th >Currency</th>
                                    <th >Start Time</th>
                                    <th >End Time</th>
                                    <th>Attachment</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in ViewBag.TenderDetail)
                                {
                                    <tr>
                                        <td>@item.TenderId</td>
                                        <td>@item.Tenderdesc</td>
                                        <td>@item.contactPerson</td>
                                        <td>@item.CompanyName</td>
                                        <td>INR</td>
                                        <td>@item.StartDate &nbsp;@item.StartTime</td>
                                        <td>@item.EndDate &nbsp; @item.EndTime</td>
                                        <td><a href="@Url.Action("Download", "Tender", new { @tenderid=Request.QueryString["tenderid"]})">Download</a></td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="box">
                    <div class="box-title">
                        <h3>
                            Item Details
                        </h3>
                    </div>
                    <div class="box-content nopadding">
                        <table class="table table-hover table-nomargin table-bordered">
                            <thead>
                                <tr>
                                    <th>S.No</th>
                                    <th>Item Name</th>
                                    <th class='hidden-350'>Item Description</th>
                                    <th class='hidden-1024'>Quantity</th>
                                    <th class='hidden-480'>UOM</th>
                                    <th class='hidden-480'>Price Per Unit</th>
                                    <th class='hidden-480'>Total Price</th>
                                    <th class='hidden-480'>Price Reduce/Bid</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in ViewBag.ItemDetail)
                                {
                                    <tr>
                                        <td>@item.srno</td>
                                        <td>@item.ItemName</td>
                                        <td>@item.ItemDesc</td>
                                        <td>@item.Quantity</td>
                                        <td>@item.UOM</td>
                                        <td>@item.Price INR</td>
                                        <td >@item.FloorPrice INR</td>
                                        <td>@item.ReducePerBid INR</td>
                                        
                                    </tr>
                                }
                              
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="box">
                    <div class="box-title">
                        <h3>
                            Supplier
                        </h3>
                    </div>
                    <div class="box-content nopadding">
                        <table class="table table-hover table-nomargin table-striped">
                            <thead>
                                <tr>
                                    <th>S.No</th>
                                    <th>Supplier Name</th>
                                    <th class='hidden-350'>Contact Person</th>
                                    <th class='hidden-1024'>City</th>
                                    <th class='hidden-480'>PAN No</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach(var item in ViewBag.AddedSupplier)
                                {
                                    <tr>
                                        <td>@item.srno</td>
                                        <td>@item.CompanyName</td>
                                        <td>@item.ContactPerson</td>
                                        <td>@item.City</td>
                                        <td>@item.Email</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="box">
                    <div class="box-title">
                        <h3>
                            Tracking
                        </h3>
                    </div>
                    <div class="box-content nopadding">
                        <table class="table table-hover table-nomargin table-striped">
                            <thead>
                                <tr>
                                    <th>Contact Person</th>
                                    <th>Decision Date/Time</th>
                                    <th class='hidden-350'>Decision</th>
                                    <th class='hidden-1024'>Remarks</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in ViewBag.Tracking)
                                {
                                    <tr>
                                        <td>@item.ContactPerson</td>
                                        <td>@item.Decisionon</td>
                                        <td>@item.StatusName</td>
                                        <td>@item.Remarks</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <center>
                <script>
                    $(document).ready(function () {
                        $(".Approval").click(function () {
                            var qty = $('#RemarksText').val();
                            
                            if (qty.length==0) {
                                alert("Please Provide Remarks");
                                return false;
                            }
                        });
                    });
                </script>
                <div >
                    <textarea  id="RemarksText" name="RemarksText" placeholder="Remarks"></textarea>
                </div>
            </center>
        </div>
        <center>
            <div class="row-fluid">
                <div class="span3">
                    <input type="submit" value="Approved" id="Approval" name="Approval" class="btn btn-success Approval">
                </div>
               <div class="span4">
                   <input type="submit" value="Rework" id="Approval" name="Approval" class="btn btn-success Approval">
               </div>
                <div class="span3">
                    <input type="submit" value="Cancel" id="Approval" name="Approval" class="btn btn-danger Approval">
                </div>
            </div>
        </center>
    </div>
}

<script src="~/content/js/jquery.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
